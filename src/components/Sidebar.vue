<script setup lang="ts">
import { ref } from 'vue'

const activeItem = ref('positions')
const isCollapsed = ref(false)

const menuItems = [
  { id: 'dashboard', label: 'Дэшборд', icon: 'dashboard' },
  { id: 'positions', label: 'Позиции', icon: 'positions' },
  { id: 'responses', label: 'Отклики', icon: 'responses' },
  { id: 'subscription', label: 'Подписка', icon: 'subscription' },
  { id: 'interviews', label: 'Интервью', icon: 'interviews' },
  { id: 'vacancies', label: 'Вакансии', icon: 'vacancies' }
]

const handleMenuClick = (itemId: string) => {
  activeItem.value = itemId
}

const handleCollapseToggle = () => {
  isCollapsed.value = !isCollapsed.value
}

const getIconSvg = (iconName: string) => {
  const icons = {
    dashboard: `<svg data-v-2b57f374="" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g data-v-2b57f374="" clip-path="url(#clip0_457_1493)"><path data-v-2b57f374="" fill="currentColor" d="M9.24994 8.00006H1.74994C0.784969 8.00006 0 7.21509 0 6.24994V1.74994C0 0.784969 0.784969 0 1.74994 0H9.24994C10.2151 0 11.0001 0.784969 11.0001 1.74994V6.24994C11.0001 7.21509 10.2151 8.00006 9.24994 8.00006ZM1.74994 1.5C1.68367 1.50005 1.62012 1.5264 1.57326 1.57326C1.5264 1.62012 1.50005 1.68367 1.5 1.74994V6.24994C1.50001 6.31624 1.52634 6.37982 1.57321 6.42672C1.62007 6.47362 1.68364 6.5 1.74994 6.50006H9.24994C9.31627 6.50004 9.37987 6.47368 9.42677 6.42677C9.47368 6.37987 9.50004 6.31627 9.50006 6.24994V1.74994C9.5 1.68364 9.47362 1.62007 9.42672 1.57321C9.37982 1.52634 9.31624 1.50001 9.24994 1.5H1.74994ZM9.24994 24H1.74994C0.784969 24 0 23.215 0 22.2501V11.7501C0 10.7849 0.784969 9.99994 1.74994 9.99994H9.24994C10.2151 9.99994 11.0001 10.7849 11.0001 11.7501V22.2501C11.0001 23.215 10.2151 24 9.24994 24ZM1.74994 11.4999C1.68364 11.5 1.62007 11.5264 1.57321 11.5733C1.52634 11.6202 1.50001 11.6838 1.5 11.7501V22.2501C1.50005 22.3163 1.5264 22.3799 1.57326 22.4267C1.62012 22.4736 1.68367 22.5 1.74994 22.5H9.24994C9.31624 22.5 9.37982 22.4737 9.42672 22.4268C9.47362 22.3799 9.5 22.3164 9.50006 22.2501V11.7501C9.50004 11.6837 9.47368 11.6201 9.42677 11.5732C9.37987 11.5263 9.31627 11.5 9.24994 11.4999H1.74994ZM22.2501 24H14.7501C13.7849 24 12.9999 23.215 12.9999 22.2501V17.7501C12.9999 16.7849 13.7849 15.9999 14.7501 15.9999H22.2501C23.215 15.9999 24 16.7849 24 17.7501V22.2501C24 23.215 23.215 24 22.2501 24ZM14.7501 17.4999C14.6837 17.5 14.6201 17.5263 14.5732 17.5732C14.5263 17.6201 14.5 17.6837 14.4999 17.7501V22.2501C14.5 22.3164 14.5264 22.3799 14.5733 22.4268C14.6202 22.4737 14.6838 22.5 14.7501 22.5H22.2501C22.3163 22.5 22.3799 22.4736 22.4267 22.4267C22.4736 22.3799 22.5 22.3163 22.5 22.2501V17.7501C22.5 17.6838 22.4737 17.6202 22.4268 17.5733C22.3799 17.5264 22.3164 17.5 22.2501 17.4999H14.7501ZM22.2501 14.0001H14.7501C13.7849 14.0001 12.9999 13.2151 12.9999 12.2499V1.74994C12.9999 0.784969 13.7849 0 14.7501 0H22.2501C23.215 0 24 0.784969 24 1.74994V12.2499C24 13.2151 23.215 14.0001 22.2501 14.0001ZM14.7501 1.5C14.6838 1.50001 14.6202 1.52634 14.5733 1.57321C14.5264 1.62007 14.5 1.68364 14.4999 1.74994V12.2499C14.5 12.3163 14.5263 12.3799 14.5732 12.4268C14.6201 12.4737 14.6837 12.5 14.7501 12.5001H22.2501C22.3164 12.5 22.3799 12.4736 22.4268 12.4267C22.4737 12.3798 22.5 12.3162 22.5 12.2499V1.74994C22.5 1.68367 22.4736 1.62012 22.4267 1.57326C22.3799 1.5264 22.3163 1.50005 22.2501 1.5H14.7501Z"></path></g><defs data-v-2b57f374=""><clipPath data-v-2b57f374="" id="clip0_457_1493"><rect data-v-2b57f374="" width="24" height="24" fill="white"></rect></clipPath></defs></svg>`,
    positions: `<svg data-v-2b57f374="" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path data-v-2b57f374="" fill="currentColor" d="M15 4C15 3.44773 14.5523 3 14 3H1C0.447735 3 0 3.44773 0 4C0 4.55227 0.447735 5 1 5H14C14.5523 5 15 4.55223 15 4ZM1 9H19C19.5523 9 20 9.44777 20 10C20 10.5523 19.5523 11 19 11H1C0.447735 11 0 10.5523 0 10C0 9.44777 0.447735 9 1 9ZM1 15H10C10.5522 15 11 15.4477 11 16C11 16.5522 10.5522 17 10 17H1C0.447735 17 0 16.5522 0 16C0 15.4477 0.447735 15 1 15Z"></path></svg>`,
    responses: `<svg data-v-2b57f374="" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path data-v-2b57f374="" fill-rule="evenodd" fill="currentColor" clip-rule="evenodd" d="M4.32001 22.5599H17.76C19.3479 22.5599 20.64 21.2678 20.64 19.6799V7.67994C20.6401 7.55386 20.6154 7.42899 20.5671 7.31252C20.5188 7.19604 20.448 7.09025 20.3587 7.00122L15.0787 1.72122C14.9897 1.6319 14.884 1.56107 14.7675 1.51279C14.651 1.46452 14.5261 1.43976 14.4 1.43994H6.24001C4.65217 1.43994 3.36001 2.7321 3.36001 4.31994V8.15994C3.36001 8.41455 3.46116 8.65873 3.64119 8.83876C3.82123 9.0188 4.06541 9.11994 4.32001 9.11994C4.57462 9.11994 4.8188 9.0188 4.99884 8.83876C5.17887 8.65873 5.28001 8.41455 5.28001 8.15994V4.31994C5.28001 3.79098 5.71105 3.35994 6.24001 3.35994H12.96V8.15994C12.96 8.41455 13.0612 8.65873 13.2412 8.83876C13.4212 9.0188 13.6654 9.11994 13.92 9.11994H18.72V19.6799C18.72 19.9346 18.6189 20.1787 18.4388 20.3588C18.2588 20.5388 18.0146 20.6399 17.76 20.6399H4.32001C4.06541 20.6399 3.82123 20.7411 3.64119 20.9211C3.46116 21.1012 3.36001 21.3453 3.36001 21.5999C3.36001 21.8546 3.46116 22.0987 3.64119 22.2788C3.82123 22.4588 4.06541 22.5599 4.32001 22.5599ZM17.8426 7.19994L14.88 4.23738V7.19994H17.8426Z"></path><path data-v-2b57f374="" fill="currentColor" d="M9.68257 15.8399H2.40001C2.14541 15.8399 1.90123 15.7388 1.72119 15.5588C1.54116 15.3787 1.44001 15.1346 1.44001 14.8799C1.44001 14.6253 1.54116 14.3812 1.72119 14.2011C1.90123 14.0211 2.14541 13.9199 2.40001 13.9199H9.68257L8.44129 12.6787C8.26129 12.4987 8.16016 12.2545 8.16016 11.9999C8.16016 11.7454 8.26129 11.5012 8.44129 11.3212C8.6213 11.1412 8.86544 11.0401 9.12001 11.0401C9.37458 11.0401 9.61873 11.1412 9.79873 11.3212L12.6634 14.1859C12.7571 14.2756 12.8316 14.3833 12.8825 14.5026C12.9335 14.6219 12.9597 14.7502 12.9597 14.8799C12.9597 15.0096 12.9335 15.138 12.8825 15.2573C12.8316 15.3766 12.7571 15.4843 12.6634 15.574L9.79873 18.4387C9.70979 18.5281 9.60403 18.5991 9.48755 18.6476C9.37107 18.696 9.24617 18.7209 9.12001 18.7209C8.99386 18.7209 8.86896 18.696 8.75248 18.6476C8.636 18.5991 8.53024 18.5281 8.44129 18.4387C8.35207 18.3496 8.28128 18.2438 8.23298 18.1273C8.18468 18.0109 8.15982 17.886 8.15982 17.7599C8.15982 17.6339 8.18468 17.509 8.23298 17.3926C8.28128 17.2761 8.35207 17.1703 8.44129 17.0812L9.68257 15.8399Z"></path></svg>`,
    subscription: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14.1915 10.5023C14.0358 10.2243 13.8155 9.98789 13.5492 9.81297C13.2829 9.63805 12.9784 9.52977 12.6615 9.49726V7.84276C12.9389 7.91722 13.1988 8.04567 13.4265 8.22076C13.5191 8.28451 13.6322 8.31153 13.7436 8.29656C13.8551 8.28159 13.957 8.2257 14.0295 8.13976C14.086 8.08148 14.1286 8.01122 14.1542 7.93419C14.1798 7.85717 14.1877 7.77536 14.1773 7.69486C14.167 7.61436 14.1386 7.53724 14.0943 7.46922C14.05 7.40121 13.9909 7.34406 13.9215 7.30201C13.5559 7.01182 13.1222 6.81999 12.6615 6.74476V6.41176C12.6651 6.3402 12.654 6.26866 12.6288 6.20158C12.6036 6.13449 12.565 6.07329 12.5152 6.02175C12.4654 5.97022 12.4056 5.92945 12.3394 5.90197C12.2733 5.87449 12.2021 5.86089 12.1305 5.86201C12.0579 5.86047 11.9858 5.87365 11.9184 5.90074C11.8511 5.92783 11.7899 5.96828 11.7386 6.01965C11.6873 6.07102 11.6469 6.13224 11.6199 6.19963C11.5929 6.26702 11.5799 6.33918 11.5815 6.41176V6.72151C11.1056 6.7318 10.652 6.92518 10.315 7.26143C9.9781 7.59767 9.78378 8.05088 9.7725 8.52676C9.78343 9.00254 9.97771 9.45572 10.3148 9.79167C10.6519 10.1276 11.1057 10.3204 11.5815 10.3298V12.0923C11.1794 12.0174 10.8057 11.8332 10.5015 11.5598C10.4025 11.4818 10.2779 11.4437 10.1522 11.4528C10.0265 11.462 9.9087 11.5178 9.822 11.6093C9.76882 11.6689 9.7288 11.7391 9.70456 11.8152C9.68032 11.8913 9.67239 11.9717 9.68131 12.0511C9.69023 12.1305 9.71578 12.2071 9.75631 12.276C9.79683 12.3449 9.85142 12.4044 9.9165 12.4508C10.377 12.8622 10.9647 13.1031 11.5815 13.1333V13.647C11.5789 13.7183 11.5907 13.7894 11.6162 13.8561C11.6417 13.9227 11.6804 13.9836 11.73 14.0349C11.7796 14.0862 11.839 14.127 11.9047 14.1548C11.9705 14.1827 12.0411 14.1969 12.1125 14.1968C12.1851 14.1983 12.2572 14.1851 12.3246 14.158C12.3919 14.1309 12.4531 14.0905 12.5044 14.0391C12.5557 13.9877 12.5961 13.9265 12.6231 13.8591C12.6501 13.7917 12.6631 13.7196 12.6615 13.647V13.0875C13.1082 13.0327 13.5209 12.821 13.8259 12.49C14.1309 12.159 14.3083 11.7305 14.3265 11.2808C14.3337 11.0149 14.2879 10.7502 14.1915 10.5023ZM11.5815 9.24601C11.3615 9.19027 11.1588 9.08044 10.992 8.92651C10.8942 8.80918 10.8388 8.66234 10.8347 8.50966C10.8307 8.35699 10.8781 8.20739 10.9695 8.08501C11.1285 7.90795 11.3456 7.79357 11.5815 7.76251V9.24601ZM13.0755 11.7443C12.9571 11.859 12.8161 11.9479 12.6615 12.0053V10.6013C12.8214 10.664 12.9657 10.7608 13.0845 10.8848C13.1905 11.0033 13.2483 11.1572 13.2466 11.3163C13.245 11.4753 13.1839 11.6279 13.0755 11.7443ZM15.75 16.5H8.25C8.05109 16.5 7.86032 16.421 7.71967 16.2803C7.57902 16.1397 7.5 15.9489 7.5 15.75C7.5 15.5511 7.57902 15.3603 7.71967 15.2197C7.86032 15.079 8.05109 15 8.25 15H15.75C15.9489 15 16.1397 15.079 16.2803 15.2197C16.421 15.3603 16.5 15.5511 16.5 15.75C16.5 15.9489 16.421 16.1397 16.2803 16.2803C16.1397 16.421 15.9489 16.5 15.75 16.5ZM15.75 18.75H8.25C8.05109 18.75 7.86032 18.671 7.71967 18.5303C7.57902 18.3897 7.5 18.1989 7.5 18C7.5 17.8011 7.57902 17.6103 7.71967 17.4697C7.86032 17.329 8.05109 17.25 8.25 17.25H15.75C15.9489 17.25 16.1397 17.329 16.2803 17.4697C16.421 17.6103 16.5 17.8011 16.5 18C16.5 18.1989 16.421 18.3897 16.2803 18.5303C16.1397 18.671 15.9489 18.75 15.75 18.75ZM18.8407 5.03026L15.9697 2.15926C15.7613 1.94956 15.5133 1.78331 15.2401 1.67014C14.9669 1.55698 14.6739 1.49915 14.3783 1.50001H6.75C6.15345 1.50061 5.5815 1.73785 5.15967 2.15968C4.73784 2.5815 4.5006 3.15346 4.5 3.75001V20.25C4.5006 20.8466 4.73784 21.4185 5.15967 21.8403C5.5815 22.2622 6.15345 22.4994 6.75 22.5H17.25C17.8466 22.4994 18.4185 22.2622 18.8403 21.8403C19.2622 21.4185 19.4994 20.8466 19.5 20.25V6.62176C19.5009 6.32606 19.443 6.03313 19.3299 5.75994C19.2167 5.48675 19.0505 5.23874 18.8407 5.03026ZM17.6895 6.00001H15.75C15.5511 5.99981 15.3605 5.92073 15.2199 5.78012C15.0793 5.63951 15.0002 5.44886 15 5.25001V3.31051L17.6895 6.00001ZM17.25 21H6.75C6.55115 20.9998 6.3605 20.9207 6.21989 20.7801C6.07928 20.6395 6.0002 20.4489 6 20.25V3.75001C6.0002 3.55116 6.07928 3.36051 6.21989 3.2199C6.3605 3.07929 6.55115 3.00021 6.75 3.00001H13.5V5.25001C13.5006 5.84656 13.7378 6.41851 14.1597 6.84034C14.5815 7.26217 15.1534 7.49941 15.75 7.50001H18V20.25C17.9998 20.4489 17.9207 20.6395 17.7801 20.7801C17.6395 20.9207 17.4489 20.9998 17.25 21Z" fill="currentColor"/>
    </svg>`,
    interviews: `<svg data-v-2b57f374="" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path data-v-2b57f374="" d="M7.314 22.3651C7.15279 22.3649 6.99225 22.3443 6.83625 22.3036C6.51898 22.223 6.22865 22.0599 5.99462 21.8311C5.76059 21.6022 5.59117 21.3155 5.5035 21.0001L4.83975 18.6751C4.79506 18.5182 4.70044 18.3802 4.57024 18.282C4.44005 18.1837 4.28136 18.1306 4.11825 18.1306H3C2.40326 18.1306 1.83097 17.8936 1.40901 17.4716C0.987053 17.0496 0.75 16.4774 0.75 15.8806V3.88061C0.75 3.28388 0.987053 2.71158 1.40901 2.28962C1.83097 1.86767 2.40326 1.63062 3 1.63062H21C21.5967 1.63062 22.169 1.86767 22.591 2.28962C23.0129 2.71158 23.25 3.28388 23.25 3.88061V15.8806C23.25 16.4774 23.0129 17.0496 22.591 17.4716C22.169 17.8936 21.5967 18.1306 21 18.1306H12.6218C12.5231 18.1305 12.4255 18.1499 12.3344 18.1876C12.2433 18.2253 12.1605 18.2806 12.0908 18.3504L8.6325 21.8139C8.46 21.9882 8.25468 22.1267 8.02838 22.2213C7.80208 22.316 7.55928 22.3648 7.314 22.3651ZM3 3.13587C2.80109 3.13587 2.61032 3.21488 2.46967 3.35554C2.32902 3.49619 2.25 3.68695 2.25 3.88587V15.8859C2.25 16.0848 2.32902 16.2755 2.46967 16.4162C2.61032 16.5568 2.80109 16.6359 3 16.6359H4.11825C4.60684 16.6375 5.08175 16.7974 5.47183 17.0916C5.8619 17.3859 6.14616 17.7985 6.282 18.2679L6.94575 20.5929C6.96366 20.6557 6.9977 20.7128 7.04449 20.7585C7.09128 20.8042 7.14919 20.8368 7.21249 20.8532C7.27578 20.8696 7.34226 20.8691 7.40532 20.8519C7.46839 20.8346 7.52585 20.8012 7.572 20.7549L11.0302 17.2966C11.2387 17.0868 11.4867 16.9205 11.7599 16.8074C12.0331 16.6942 12.326 16.6364 12.6218 16.6374H21C21.1989 16.6374 21.3897 16.5583 21.5303 16.4177C21.671 16.277 21.75 16.0863 21.75 15.8874V3.88737C21.75 3.68845 21.671 3.49769 21.5303 3.35703C21.3897 3.21638 21.1989 3.13737 21 3.13737L3 3.13587Z" fill="currentColor"></path><path data-v-2b57f374="" d="M16.7252 11.7609C16.5263 11.7609 16.3355 11.6818 16.1949 11.5412C16.0542 11.4005 15.9752 11.2098 15.9752 11.0109V10.4859C15.9701 10.1197 16.0739 9.76025 16.2734 9.45314C16.4729 9.14603 16.7591 8.90509 17.0957 8.76087C17.2583 8.69391 17.3997 8.58403 17.5048 8.44298C17.6099 8.30193 17.6747 8.13499 17.6923 7.95998C17.7099 7.78497 17.6797 7.60847 17.6048 7.44931C17.5299 7.29015 17.4132 7.15431 17.2672 7.05629C17.1211 6.95827 16.9512 6.90176 16.7756 6.89277C16.5999 6.88379 16.4251 6.92267 16.2698 7.00527C16.1145 7.08788 15.9846 7.2111 15.8939 7.36179C15.8031 7.51248 15.755 7.68498 15.7547 7.86087C15.7547 8.05978 15.6757 8.25054 15.535 8.3912C15.3944 8.53185 15.2036 8.61087 15.0047 8.61087C14.8058 8.61087 14.615 8.53185 14.4744 8.3912C14.3337 8.25054 14.2547 8.05978 14.2547 7.86087C14.2553 7.49913 14.3353 7.14193 14.4889 6.81442C14.6425 6.4869 14.866 6.19704 15.1437 5.96524C15.4214 5.73343 15.7465 5.56532 16.0962 5.47274C16.4459 5.38015 16.8117 5.36535 17.1677 5.42937C17.6913 5.52719 18.1694 5.79133 18.5309 6.18253C18.8924 6.57374 19.118 7.07113 19.1743 7.60081C19.2306 8.13049 19.1144 8.66419 18.8432 9.12261C18.5719 9.58103 18.16 9.93972 17.6687 10.1454C17.6071 10.1779 17.5562 10.2275 17.5219 10.2881C17.4876 10.3487 17.4714 10.4178 17.4752 10.4874V11.0124C17.4748 11.211 17.3956 11.4014 17.255 11.5417C17.1144 11.6821 16.9238 11.7609 16.7252 11.7609Z" fill="currentColor"></path><path data-v-2b57f374="" d="M16.7279 14.1984C17.2457 14.1984 17.6654 13.7786 17.6654 13.2609C17.6654 12.7431 17.2457 12.3234 16.7279 12.3234C16.2102 12.3234 15.7904 12.7431 15.7904 13.2609C15.7904 13.7786 16.2102 14.1984 16.7279 14.1984Z" fill="currentColor"></path><path data-v-2b57f374="" d="M10.5 9.13587H6C5.80109 9.13587 5.61032 9.05685 5.46967 8.9162C5.32902 8.77554 5.25 8.58478 5.25 8.38587C5.25 8.18695 5.32902 7.99619 5.46967 7.85554C5.61032 7.71488 5.80109 7.63587 6 7.63587H10.5C10.6989 7.63587 10.8897 7.71488 11.0303 7.85554C11.171 7.99619 11.25 8.18695 11.25 8.38587C11.25 8.58478 11.171 8.77554 11.0303 8.9162C10.8897 9.05685 10.6989 9.13587 10.5 9.13587ZM12.75 12.8859H6C5.80109 12.8859 5.61032 12.8068 5.46967 12.6662C5.32902 12.5255 5.25 12.3348 5.25 12.1359C5.25 11.937 5.32902 11.7462 5.46967 11.6055C5.61032 11.4649 5.80109 11.3859 6 11.3859H12.75C12.9489 11.3859 13.1397 11.4649 13.2803 11.6055C13.421 11.7462 13.5 11.937 13.5 12.1359C13.5 12.3348 13.421 12.5255 13.2803 12.6662C13.1397 12.8068 12.9489 12.8859 12.75 12.8859Z" fill="currentColor"></path></svg>`,
    vacancies: `<svg data-v-2b57f374="" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path data-v-2b57f374="" d="M20.25 5.25H17.25V4.5C17.25 3.90326 17.0129 3.33097 16.591 2.90901C16.169 2.48705 15.5967 2.25 15 2.25H9C8.40326 2.25 7.83097 2.48705 7.40901 2.90901C6.98705 3.33097 6.75 3.90326 6.75 4.5V5.25H3.75C3.15326 5.25 2.58097 5.48705 2.15901 5.90901C1.73705 6.33097 1.5 6.90326 1.5 7.5V19.5C1.5 20.0967 1.73705 20.669 2.15901 21.091C2.58097 21.5129 3.15326 21.75 3.75 21.75H20.25C20.8467 21.75 21.419 21.5129 21.841 21.091C22.2629 20.669 22.5 20.0967 22.5 19.5V7.5C22.5 6.90326 22.2629 6.33097 21.841 5.90901C21.419 5.48705 20.8467 5.25 20.25 5.25ZM8.25 4.5C8.25 4.30109 8.32902 4.11032 8.46967 3.96967C8.61032 3.82902 8.80109 3.75 9 3.75H15C15.1989 3.75 15.3897 3.82902 15.5303 3.96967C15.671 4.11032 15.75 4.30109 15.75 4.5V5.25H8.25V4.5ZM3 7.5C3 7.30109 3.07902 7.11032 3.21967 6.96967C3.36032 6.82902 3.55109 6.75 3.75 6.75H20.25C20.4489 6.75 20.6397 6.82902 20.7803 6.96967C20.921 7.11032 21 7.30109 21 7.5V9.75C21 10.3467 20.7629 10.919 20.341 11.341C19.919 11.7629 19.3467 12 18.75 12H14.25C14.25 11.6022 14.092 11.2206 13.8107 10.9393C13.5294 10.658 13.1478 10.5 12.75 10.5H11.25C10.8522 10.5 10.4706 10.658 10.1893 10.9393C9.90804 11.2206 9.75 11.6022 9.75 12H5.25C4.65326 12 4.08097 11.7629 3.65901 11.341C3.23705 10.919 3 10.3467 3 9.75V7.5ZM12.75 13.5H11.25V12H12.75V13.5ZM20.25 20.25H3.75C3.55109 20.25 3.36032 20.171 3.21967 20.0303C3.07902 19.8897 3 19.6989 3 19.5V12.7305C3.64529 13.2269 4.4359 13.4972 5.25 13.5H9.75C9.75 13.8978 9.90804 14.2794 10.1893 14.5607C10.4706 14.842 10.8522 15 11.25 15H12.75C13.1478 15 13.5294 14.842 13.8107 14.5607C14.092 14.2794 14.25 13.8978 14.25 13.5H18.75C19.5641 13.4972 20.3547 13.2269 21 12.7305V19.5C21 19.6989 20.921 19.8897 20.7803 20.0303C20.6397 20.171 20.4489 20.25 20.25 20.25Z" fill="currentColor"></path></svg>`
  }
  return icons[iconName as keyof typeof icons] || icons.dashboard
}
</script>

<template>
  <aside class="sidebar" :class="{ collapsed: isCollapsed }">
    <!-- Collapse button -->
    <button class="collapse-btn" @click="handleCollapseToggle">
      <img 
        src="/src/assets/img/left-arrow.png" 
        alt="Collapse" 
        class="icon" 
      />
    </button>

    <!-- Navigation menu -->
    <nav class="nav-menu">
      <ul class="nav-list">
        <li 
          v-for="item in menuItems" 
          :key="item.id"
          class="nav-item"
          :class="{ active: activeItem === item.id }"
          @click="handleMenuClick(item.id)"
        >
          <div class="nav-icon" v-html="getIconSvg(item.icon)"></div>
          <span class="nav-label" v-if="!isCollapsed">{{ item.label }}</span>
        </li>
      </ul>
    </nav>

    <!-- Daily responses card -->
    <div class="daily-responses" v-if="!isCollapsed">
      <div class="responses-info">
        <img src="/src/assets/img/otklik2.png" alt="Responses" class="responses-icon" />
        <div class="responses-text">
          <span class="responses-count">10 из 20</span>
          <span class="responses-label">Суточных откликов</span>
        </div>
      </div>
    </div>

    <!-- Bottom buttons -->
    <div class="bottom-buttons">
      <button class="bottom-btn">
        <span v-if="!isCollapsed">Инструкция</span>
        <img src="/src/assets/img/instr.png" alt="Instructions" class="btn-icon" />
      </button>
      <button class="bottom-btn">
        <span v-if="!isCollapsed">Поддержка</span>
        <img src="/src/assets/img/support.png" alt="Support" class="btn-icon" />
      </button>
    </div>
  </aside>
</template>

<style lang="scss" scoped>
@use '@/assets/css/variables' as *;

.sidebar {
  width: $sidebar-width;
  background: $white;
  display: flex;
  flex-direction: column;
  padding: 40px 0;
  transition: width 0.3s ease;
  overflow: hidden;

  &.collapsed {
    width: $sidebar-collapsed-width;
  }

  .collapse-btn {
    width: $icon-xxl;
    height: $icon-xxl;
    min-height: 50px;
    background: #f3f3f3;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
    margin-bottom: 30px;
    margin-left: 27px;
    transition: all 0.3s ease;

    &:hover {
      background: #e5e7eb;
    }

    .icon {
      width: $icon-sm;
      height: $icon-sm;
      transition: transform 0.3s ease;
    }

    &:hover .icon {
      transform: translateX(-2px);
    }
  }

  &.collapsed .collapse-btn .icon {
    transform: rotate(180deg);
  }

  &.collapsed .collapse-btn:hover .icon {
    transform: rotate(180deg) translateX(2px);
  }

  .nav-menu {
    flex: 1;
    padding: 0 $spacing-xl;

    .nav-list {
      list-style: none;
      margin: 0;
      padding: 0;

      .nav-item {
        display: flex;
        align-items: center;
        padding: $spacing-md $spacing-lg;
        margin-bottom: $spacing-xs;
        border-radius: $border-radius;
        height: 60px;
        cursor: pointer;
        transition: all $transition-fast;
        position: relative;
        justify-content: flex-start;

        &:hover {
          background: $hover-gray;
        }

        &.active {
          background: $light-blue;
          color: $primary-blue;

          .nav-icon {
            color: $primary-blue;
          }

          &::before {
            content: '';
            position: absolute;
            left: -$spacing-xl;
            top: 0;
            bottom: 0;
            width: $spacing-sm;
            background: $primary-blue;
            border-radius: 0 6px 6px 0;
          }
        }

        .nav-icon {
          width: $icon-lg;
          height: $icon-lg;
          margin-right: $spacing-md;
          flex-shrink: 0;
          color: $text-gray;
          transition: color $transition-fast;

          svg {
            width: 100%;
            height: 100%;
          }
        }

        .nav-label {
          font-weight: 500;
          font-size: $font-lg;
          white-space: nowrap;
          opacity: 1;
          transition: opacity 0.3s ease;
        }
      }
    }
  }

  &.collapsed {
    .nav-menu {
      padding: 0 $spacing-sm;

      .nav-item {
        justify-content: center;
        padding: $spacing-md;

        .nav-icon {
          margin-right: 0;
        }

        &.active::before {
          left: -$spacing-sm;
        }
      }
    }

    .bottom-buttons {
      padding: 0 $spacing-sm;

      .bottom-btn {
        justify-content: center;
        padding: $spacing-md;
      }
    }
  }

  .daily-responses {
    margin: $spacing-xl;
    padding: $spacing-lg;
    background: $hover-gray;
    border-radius: $spacing-md;
    transition: opacity 0.3s ease;

    .responses-info {
      display: flex;
      align-items: center;

      .responses-icon {
        width: $icon-lg;
        height: $icon-lg;
        margin-right: $spacing-md;
      }

      .responses-text {
        display: flex;
        flex-direction: column;

        .responses-count {
          font-weight: 600;
          font-size: $font-md;
          color: $text-primary;
        }

        .responses-label {
          font-size: $font-xs;
          color: $text-secondary;
        }
      }
    }
  }

  .bottom-buttons {
    padding: 0 $spacing-xl;
    display: flex;
    flex-direction: column;
    gap: 20px;

    .bottom-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: $spacing-md $spacing-lg;
      background: $light-gray;
      border: none;
      border-radius: $border-radius;
      cursor: pointer;
      transition: background-color $transition-fast;
      font-weight: 600;
      font-size: $font-md;
      color: $text-gray;

      &:hover {
        background: #e5e7eb;
      }

      .btn-icon {
        width: 21px;
        height: 20px;
        margin-right: $spacing-sm;
        flex-shrink: 0;
      }
    }
  }
}
</style>
